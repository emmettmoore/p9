use snprint not sprint; cleanup from sources
